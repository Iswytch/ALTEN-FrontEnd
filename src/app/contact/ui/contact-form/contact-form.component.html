<form #form="ngForm" class="global-form" [formGroup]="contactForm" (ngSubmit)="submit()">
  <div class="form-field">
    <label for="email" pTooltip="Obligatoire">Adresse mail *</label>
    <input pInputText
      type="email"
      formControlName="email"
      id="email">
    
      @if (contactForm.get('email')?.invalid && contactForm.get('email')?.touched) {
        @if (contactForm.get('email')?.errors?.['email']) {
          <small class="text-red-500">
            Entrez une adresse e-mail valide.
          </small>
        }
      }
  </div>

  
  <div class="form-field">
    <label for="message" pTooltip="Obligatoire">Message *</label>
    <textarea pInputTextarea 
      type="text"
      formControlName="message"
      id="message"
      rows="5" 
      cols="50" >
    </textarea> 

    @if (contactForm.get('message')?.invalid && contactForm.get('message')?.touched) {
      @if (contactForm.get('message')?.errors?.['required']) {
        <small class="text-red-500">
          Le message est obligatoire
        </small>
      }
      @if (contactForm.get('message')?.errors?.['maxlength']) {
        <small class="text-red-500">
          Le message ne doit pas dépasser 300 caractères
        </small>
      }
    }
  </div>
  
  
  <div class="flex justify-content-center">
    <p-button type="submit" [disabled]="!contactForm.valid" label="Envoyer" severity="info"/>
  </div>
</form>

<p-toast />


